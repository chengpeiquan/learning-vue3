/**
 * name: learning-vue3
 * version: v2.0.0
 * description: A starting learning tutorial on Vue 3.0 + TypeScript, suitable for complete Vue novices and Vue 2.0 veterans, incorporating some of my own practical experience on the basis of official documents.
 * author: chengpeiquan <chengpeiquan@chengpeiquan.com>
 * homepage: https://vue3.chengpeiquan.com
 */
import{_ as i,C as o,r as D,i as y,O as t,H as a,d as l,m as p,a as r}from"./chunks/framework.391e82f5.js";const m=JSON.parse('{"title":"脚手架的升级与配置","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"upgrade.md","filePath":"upgrade.md"}'),F={name:"upgrade.md"};function B(u,s,d,h,E,A){const e=o("ImgWrap"),n=o("ClientOnly"),c=o("GitalkComment");return D(),y("div",null,[s[0]||(s[0]=t('<h1 id="脚手架的升级与配置" tabindex="-1">脚手架的升级与配置 <a class="header-anchor" href="#脚手架的升级与配置" aria-label="Permalink to &quot;脚手架的升级与配置&quot;">​</a></h1><p>相信在 “了解前端工程化” 一章里阅读过 <a href="./engineering.html#vue-js-与工程化">Vue.js 与工程化</a> 一节内容的开发者，可以轻松猜到本书接下来关于 Vue 3 的学习都将基于前端工程化展开，本章将介绍如何配置 Vue 3 的开发环境，并创建基于前端工程化的 Vue 3 项目。</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>如果还不熟悉 Node.js 、 npm 依赖管理等前端工程化工具链的使用，请先阅读 <a href="./guide.html">工程化的前期准备</a> 一章。</p></div><h2 id="全新的-vue-版本-new" tabindex="-1">全新的 Vue 版本 ~new <a class="header-anchor" href="#全新的-vue-版本-new" aria-label="Permalink to &quot;全新的 Vue 版本 ~new&quot;">​</a></h2><p>在 2022 年 2 月 7 日， Vue 3 代替了 Vue 2 成为 Vue 的默认版本，有一些注意事项需要留意：</p><h3 id="使用-vue-3" tabindex="-1">使用 Vue 3 <a class="header-anchor" href="#使用-vue-3" aria-label="Permalink to &quot;使用 Vue 3&quot;">​</a></h3><p>在 npmjs 网站 <a href="https://www.npmjs.com/package/vue?activeTab=versions" target="_blank" rel="noreferrer">Vue 主页的版本列表</a> 上面，可以看到当前已使用 <code>3.x.x</code> 这样的版本号作为 <code>latest</code> 这个 Tag 对应的版本，也就是运行 <code>npm i vue</code> 默认会安装 Vue 3 了，无需再和以前一样，需要指定 <code>vue@next</code> 才可以安装到 Vue 3 。</p>',7)),a(n,null,{default:l(()=>[a(e,{src:"/assets/img/vue-versions-on-npmjs.jpg",alt:"Vue 在 npmjs 上的版本列表"})]),_:1}),s[1]||(s[1]=t(`<p>包括 <code>vue-router</code> 、 <code>vuex</code> 、<code>vue-loader</code> 和 <code>@vue/test-utils</code> 等相关的生态，同样不需要指定 next 版本了，都配合 Vue 3 指定了新的 latest 默认版本。</p><p>同时 Vue 生态的所有官方文档也都默认切换到 Vue 3 版本，可在 <a href="./links.html#官方文档">官方文档</a> 一节了解最新的官方资源站点。</p><h3 id="使用-vue-2" tabindex="-1">使用 Vue 2 <a class="header-anchor" href="#使用-vue-2" aria-label="Permalink to &quot;使用 Vue 2&quot;">​</a></h3><p>如果还需要使用 Vue 2 ，则在安装的时候需要手动指定 Tag 为 <code>legacy</code> 或者 <code>v2-latest</code> 才能安装到 Vue 2 ：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 安装 2.6.x 的最新版本</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">i</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">vue@legacy</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 安装 2.7.x 的最新版本</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">i</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">vue@v2-latest</span></span></code></pre></div><p>注意到 Vue 2 配对了两个不同的 Tag ，分别对应 2.7 系列和 2.6 系列。</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Vue 2.7 系列是在 Vue 2 的基础上，对标 Vue 3 的功能支持所作的升级，主要是面向想使用 Vue 3 的新特性、但顾虑于产品对旧浏览器的支持而无法贸然升级的开发者。</p><p>Vue 2.7 与 Vue 2.6 之前的旧版本在使用上略有不同，具体可以查看 Vue 2 的 <a href="https://github.com/vuejs/vue/blob/main/CHANGELOG.md" target="_blank" rel="noreferrer">更新记录</a> 了解具体的差异化。</p></div><p>对于一些没有打 Tag 的 Vue 2 相关生态（如 vuex 截止到撰写本文时还没有为旧版本打 Tag ），则需要显式的指定版本号才可以安装到配套的程序：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 显式的指定具体版本号安装</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">i</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">vuex@3.6.2</span></span></code></pre></div><p>如果之前使用了 <code>latest</code> 标签或 <code>*</code> 从 npm 安装 Vue 或其他官方库，请确保项目下的 package.json 文件能够明确使用兼容 Vue 2 的版本。</p><div class="language-diff"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">{</span></span>
<span class="line"><span style="color:#BABED8;">  &quot;dependencies&quot;: {</span></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#F07178;">   &quot;vue&quot;: &quot;latest&quot;,</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#C3E88D;">   &quot;vue&quot;: &quot;^2.6.14&quot;,</span></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#F07178;">   &quot;vue-router&quot;: &quot;latest&quot;,</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#C3E88D;">   &quot;vue-router&quot;: &quot;^3.5.3&quot;,</span></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#F07178;">   &quot;vuex&quot;: &quot;latest&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#C3E88D;">   &quot;vuex&quot;: &quot;^3.6.2&quot;</span></span>
<span class="line"><span style="color:#BABED8;">  },</span></span>
<span class="line"><span style="color:#BABED8;">  &quot;devDependencies&quot;: {</span></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#F07178;">   &quot;vue-loader&quot;: &quot;latest&quot;,</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#C3E88D;">   &quot;vue-loader&quot;: &quot;^15.9.8&quot;,</span></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#F07178;">   &quot;@vue/test-utils&quot;: &quot;latest&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">+</span><span style="color:#C3E88D;">   &quot;@vue/test-utils&quot;: &quot;^1.3.0&quot;</span></span>
<span class="line"><span style="color:#BABED8;">  }</span></span>
<span class="line"><span style="color:#BABED8;">}</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>上方代码块里的 <code>-</code> 号代表移除， <code>+</code> 号代表新增，这是一种 Diff 风格的排版，表明修改前后的变化，后文如有类似的代码风格同理。</p></div><h2 id="hello-vue3" tabindex="-1">Hello Vue3 <a class="header-anchor" href="#hello-vue3" aria-label="Permalink to &quot;Hello Vue3&quot;">​</a></h2><p>如果想早点开始 Vue 3 的世界，可以通过以下命令直接创建一个启动项目：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 全局安装脚手架</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">install</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-g</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">create-preset</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 使用 \`vue3-ts-vite\` 模板创建一个名为 \`hello-vue3\` 的项目</span></span>
<span class="line"><span style="color:#FFCB6B;">preset</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">init</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">hello-vue3</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--template</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">vue3-ts-vite</span></span></code></pre></div><p>这是一个基于 Vite + TypeScript + Vue 3 + Pinia 的项目启动模板，可以使用这个项目来练习后面的案例代码，创建完毕后可以直接跳到 <a href="#安装-vscode">安装 VSCode</a> 和 <a href="#添加-vscode-插件">添加 VSCode 插件</a> 继续学习。</p><p>当然有时间还是希望继续阅读 <a href="#使用-vite-创建项目-new">使用 Vite 创建项目</a> 和 <a href="#使用-vue-cli-创建项目">使用 @vue/cli 创建项目</a> 这两部分内容，了解 Vue 3 更主流的项目创建方案。</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>如果网络问题下载失败，可以先执行 <code>preset proxy on</code> 开启加速镜像代理下载。</p></div><h2 id="使用-vite-创建项目-new" tabindex="-1">使用 Vite 创建项目 ~new <a class="header-anchor" href="#使用-vite-创建项目-new" aria-label="Permalink to &quot;使用 Vite 创建项目 ~new&quot;">​</a></h2><p>Vite 是由 Vue 作者尤雨溪先生带领团队开发的一个构建工具，它利用浏览器原生支持 ES 模块的特点，极大提升了开发体验，自 2021 年 1 月份发布 2.0 版本以来，发展非常快，笔者也在第一时间参与贡献了一些文档和插件，并且在 2021 年期间，个人项目已经全面切换到 Vite ，公司业务也在 2021 年底开始使用 Vite 创建新项目，整体情况非常稳定，前景非常乐观。</p><p>关于是否使用 Vite 和安利团队使用 Vue 3 ，可以看笔者在 2022 年春节前写的 <a href="https://zhuanlan.zhihu.com/p/460538277" target="_blank" rel="noreferrer">Markdown 工程师的一周</a> 一文，记录了一次关于团队技术栈升级的总结，笔者是非常推荐升级技术栈的！</p><p>在这里推荐以下这几种创建 Vite 项目的方式：<a href="#create-vite">Create Vite</a> 、 <a href="#create-vue">Create Vue</a> 和 <a href="#create-preset">Create Preset</a> 。</p><h3 id="create-vite" tabindex="-1">Create Vite <a class="header-anchor" href="#create-vite" aria-label="Permalink to &quot;Create Vite&quot;">​</a></h3><p><a href="https://github.com/vitejs/vite/tree/main/packages/create-vite" target="_blank" rel="noreferrer">create-vite</a> 是 Vite 官方推荐的一个脚手架工具，可以创建基于 Vite 的不同技术栈基础模板。</p><p>运行以下命令创建模板项目，再按照命令行的提示操作（选择 <code>vue</code> 技术栈进入），即可创建一个基于 Vite 的基础空项目。</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">create</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">vite</span></span></code></pre></div><p>不过这个方式创建的项目非常基础，如果需要用到 Router 、 Vuex 、 ESLint 等程序，都需要再单独安装和配置，所以推荐使用 <a href="#create-preset">Create Preset</a> 。</p><h3 id="create-vue" tabindex="-1">Create Vue <a class="header-anchor" href="#create-vue" aria-label="Permalink to &quot;Create Vue&quot;">​</a></h3><p><a href="https://github.com/vuejs/create-vue" target="_blank" rel="noreferrer">create-vue</a> 是 Vue 官方推出的一个新脚手架，用以代替基于 Webpack 的 Vue CLI ，它可以创建基于 Vite 的 Vue 基础模板。</p><p>运行以下命令创建模板项目，然后根据命令行的提示操作即可。</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">init</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">vue@3</span></span></code></pre></div><h3 id="create-preset" tabindex="-1">Create Preset <a class="header-anchor" href="#create-preset" aria-label="Permalink to &quot;Create Preset&quot;">​</a></h3><p><a href="https://github.com/awesome-starter/create-preset" target="_blank" rel="noreferrer">create-preset</a> 是 Awesome Starter 的 CLI 脚手架，提供快速创建预设项目的能力，可以创建一些有趣实用的项目启动模板，也可以用来管理的常用项目配置。</p><h4 id="简单使用" tabindex="-1">简单使用 <a class="header-anchor" href="#简单使用" aria-label="Permalink to &quot;简单使用&quot;">​</a></h4><p>可以通过包管理器直接创建配置，然后按照命令行的提示操作，即可创建开箱即用的模板项目。</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">create</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">preset</span></span></code></pre></div><p>在这里选择 <code>vue</code> 技术栈进入，选择 <a href="https://github.com/awesome-starter/vue3-ts-vite-starter" target="_blank" rel="noreferrer">vue3-ts-vite</a> 创建一个基于 Vite + Vue 3 + TypeScript 的项目启动模板。</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>如果下载失败，可以通过 <code>npm create preset proxy on</code> 开启加速镜像代理下载。</p><p>点击查看：<a href="https://preset.js.org/zh/docs.html#%E5%BC%80%E5%90%AF%E4%BB%A3%E7%90%86" target="_blank" rel="noreferrer">代理选项 - Create Preset</a></p></div><h4 id="全局安装" tabindex="-1">全局安装 <a class="header-anchor" href="#全局安装" aria-label="Permalink to &quot;全局安装&quot;">​</a></h4><p>也可以像使用 @vue/cli 一样，全局安装到本地，通过 <code>preset init</code> 命令来创建项目。</p><p>推荐全局安装它，用起来更方便，请先全局安装：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">install</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-g</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">create-preset</span></span></code></pre></div><p>可以通过下面这个命令来检查安装是否成功，如果成功，将会得到一个版本号：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">preset</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-v</span></span></code></pre></div><p>然后可以通过 <code>--template</code> 选项直接指定一个模板创建项目，在这里使用 <code>vue3-ts-vite</code> 模板创建一个名为 <code>hello-vue3</code> 的项目：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">preset</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">init</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">hello-vue3</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--template</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">vue3-ts-vite</span></span></code></pre></div><p>常用的项目模板也可以绑定为本地配置，点击 <a href="https://preset.js.org/zh/" target="_blank" rel="noreferrer">Create Preset 官方文档</a> 查看完整使用教程。</p><h3 id="管理项目配置" tabindex="-1">管理项目配置 <a class="header-anchor" href="#管理项目配置" aria-label="Permalink to &quot;管理项目配置&quot;">​</a></h3><p>不论使用上方哪种方式创建项目，在项目的根目录下都会有一个名为 <code>vite.config.js</code> 或 <code>vite.config.ts</code> 的项目配置文件（其扩展名由项目使用 JavaScript 还是 TypeScript 决定）。</p><p>里面会有一些预设好的配置，可以在 <a href="https://cn.vitejs.dev/config/" target="_blank" rel="noreferrer">Vite 官网的配置文档</a> 查阅更多的可配置选项。</p><h2 id="使用-vue-cli-创建项目" tabindex="-1">使用 @vue/cli 创建项目 <a class="header-anchor" href="#使用-vue-cli-创建项目" aria-label="Permalink to &quot;使用 @vue/cli 创建项目&quot;">​</a></h2><p>如果不习惯 Vite ，依然可以使用 Vue CLI 作为开发脚手架。</p><h3 id="和-vite-的区别" tabindex="-1">和 Vite 的区别 <a class="header-anchor" href="#和-vite-的区别" aria-label="Permalink to &quot;和 Vite 的区别&quot;">​</a></h3><p>Vue CLI 使用的构建工具是基于 Webpack ，可以在 <a href="./guide.html#了解构建工具">了解构建工具</a> 一节了解 Webpack 和 Vite 这两个构建工具的区别。</p><h3 id="更新-cli-脚手架" tabindex="-1">更新 CLI 脚手架 <a class="header-anchor" href="#更新-cli-脚手架" aria-label="Permalink to &quot;更新 CLI 脚手架&quot;">​</a></h3><p>请先全局安装，把脚手架更新到最新版本（最低版本要求在 <code>4.5.6</code> 以上才能支持 Vue 3 项目的创建）。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">npm install </span><span style="color:#89DDFF;">-</span><span style="color:#BABED8;">g </span><span style="color:#89DDFF;">@</span><span style="color:#BABED8;">vue</span><span style="color:#89DDFF;">/</span><span style="color:#BABED8;">cli</span></span></code></pre></div><h3 id="使用-cli-创建-3-x-项目-new" tabindex="-1">使用 CLI 创建 3.x 项目 ~new <a class="header-anchor" href="#使用-cli-创建-3-x-项目-new" aria-label="Permalink to &quot;使用 CLI 创建 3.x 项目 ~new&quot;">​</a></h3><p>Vue CLI 全局安装后，可以在命令行输入 <code>vue</code> 进行操作，创建项目使用的是 <code>create</code> 命令：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">vue create hello</span><span style="color:#89DDFF;">-</span><span style="color:#BABED8;">vue3</span></span></code></pre></div><p>由于要使用 TypeScript ，所以需要选择最后一个选项来进行自定义搭配，通过键盘的上下箭头进行切换选择：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">Vue CLI v5</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">0.4</span></span>
<span class="line"><span style="color:#89DDFF;">?</span><span style="color:#BABED8;"> Please pick a preset</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#82AAFF;">Default</span><span style="color:#BABED8;"> ([Vue </span><span style="color:#F78C6C;">3</span><span style="color:#BABED8;">] babel</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> eslint)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#82AAFF;">Default</span><span style="color:#BABED8;"> ([Vue </span><span style="color:#F78C6C;">2</span><span style="color:#BABED8;">] babel</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> eslint)</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> Manually select features</span></span></code></pre></div><p>多选菜单可以按空格选中需要的依赖，总共选择了下面这些选项：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">Vue CLI v5</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">0.4</span></span>
<span class="line"><span style="color:#89DDFF;">?</span><span style="color:#BABED8;"> Please pick a preset</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> Manually select features</span></span>
<span class="line"><span style="color:#89DDFF;">?</span><span style="color:#BABED8;"> Check the features needed for your project</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> (Press </span><span style="color:#89DDFF;">&lt;</span><span style="color:#BABED8;">space</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> to select</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> to toggle all, </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">i</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> to invert selection, and </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">enter</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> to proceed)</span></span>
<span class="line"><span style="color:#BABED8;"> (*) Babel</span></span>
<span class="line"><span style="color:#BABED8;"> (*) TypeScript</span></span>
<span class="line"><span style="color:#BABED8;"> ( ) Progressive Web App (PWA) Support</span></span>
<span class="line"><span style="color:#BABED8;"> (*) Router</span></span>
<span class="line"><span style="color:#BABED8;"> (*) Vuex</span></span>
<span class="line"><span style="color:#BABED8;"> (*) CSS Pre-processors</span></span>
<span class="line"><span style="color:#BABED8;">&gt;(*) Linter / Formatter</span></span>
<span class="line"><span style="color:#BABED8;"> ( ) Unit Testing</span></span>
<span class="line"><span style="color:#BABED8;"> ( ) E2E Testing</span></span></code></pre></div><p>选择 Vue 版本，要用 Vue 3 所以需要选择 3.x ：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">?</span><span style="color:#BABED8;"> Choose a version </span><span style="color:#89DDFF;">of</span><span style="color:#BABED8;"> Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">js that you want to start the project with</span></span>
<span class="line"><span style="color:#BABED8;">  (Use arrow keys)</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> 3</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">x</span></span>
<span class="line"><span style="color:#BABED8;">  2</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">x</span></span></code></pre></div><p>是否选择 Class 语法的模板，在 Vue 2 版本为了更好的支持 TypeScript ，通常需要使用 Class 语法，由于 Vue 3 有了对 TypeScript 支持度更高的 Composition API ，因此选择 <code>n</code> ，也就是 “否” ：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">?</span><span style="color:#BABED8;"> Use class</span><span style="color:#89DDFF;">-</span><span style="color:#BABED8;">style component syntax</span><span style="color:#89DDFF;">?</span><span style="color:#BABED8;"> (y</span><span style="color:#89DDFF;">/</span><span style="color:#BABED8;">N) n</span></span></code></pre></div><p>Babel 可以把新版本的 JavaScript 语句转换为兼容性更好的低版本 Polyfill 写法，所以选 <code>y</code> 确认使用：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">?</span><span style="color:#BABED8;"> Use Babel alongside TypeScript</span></span>
<span class="line"><span style="color:#BABED8;">  (required for modern mode</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> auto</span><span style="color:#89DDFF;">-</span><span style="color:#BABED8;">detected polyfills</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> transpiling JSX)</span><span style="color:#89DDFF;">?</span></span>
<span class="line"><span style="color:#BABED8;">  (Y</span><span style="color:#89DDFF;">/</span><span style="color:#BABED8;">n) y</span></span></code></pre></div><p>接下来是选择路由模式，选 <code>y</code> 启用 History 模式，选 <code>n</code> 使用 Hash 模式，可根据项目情况选择。</p><p>建议先选 <code>y</code> 确认，如果遇到部署的问题可以在 “路由” 一章的 <a href="./router.html#部署问题与服务端配置">部署问题与服务端配置</a> 小节查看如何处理。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">?</span><span style="color:#BABED8;"> Use history mode for router</span><span style="color:#89DDFF;">?</span></span>
<span class="line"><span style="color:#BABED8;">  (Requires proper server setup for index fallback </span><span style="color:#89DDFF;">in</span><span style="color:#BABED8;"> production)</span></span>
<span class="line"><span style="color:#BABED8;">  (Y</span><span style="color:#89DDFF;">/</span><span style="color:#BABED8;">n) y</span></span></code></pre></div><p>选择一个 CSS 预处理器，可以根据自己的喜好选择，不过鉴于目前开源社区组件常用的都是 <a href="https://github.com/less/less.js" target="_blank" rel="noreferrer">Less</a> ，所以也建议选择 Less 作为入门的预处理器工具。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">?</span><span style="color:#BABED8;"> Pick a CSS pre</span><span style="color:#89DDFF;">-</span><span style="color:#82AAFF;">processor</span><span style="color:#BABED8;"> (PostCSS</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> Autoprefixer and CSS Modules are supported</span></span>
<span class="line"><span style="color:#BABED8;"> by default)</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">  Sass</span><span style="color:#89DDFF;">/</span><span style="color:#82AAFF;">SCSS</span><span style="color:#BABED8;"> (with dart</span><span style="color:#89DDFF;">-</span><span style="color:#BABED8;">sass)</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> Less</span></span>
<span class="line"><span style="color:#BABED8;">  Stylus</span></span></code></pre></div><p>Lint 规则，用来代码检查，写 TypeScript 离不开 Lint ，可以根据自己喜好选择，也可以先选择默认，后面在 <a href="#添加协作规范">添加协作规范</a> 一节也有说明如何配置规则，这里先默认第一个：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">?</span><span style="color:#BABED8;"> Pick a linter </span><span style="color:#89DDFF;">/</span><span style="color:#BABED8;"> formatter config</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> (Use arrow keys)</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> ESLint </span><span style="color:#89DDFF;font-style:italic;">with</span><span style="color:#BABED8;"> error prevention only</span></span>
<span class="line"><span style="color:#BABED8;">  ESLint </span><span style="color:#89DDFF;">+</span><span style="color:#BABED8;"> Airbnb config</span></span>
<span class="line"><span style="color:#BABED8;">  ESLint </span><span style="color:#89DDFF;">+</span><span style="color:#BABED8;"> Standard config</span></span>
<span class="line"><span style="color:#BABED8;">  ESLint </span><span style="color:#89DDFF;">+</span><span style="color:#BABED8;"> Prettier</span></span></code></pre></div><p>Lint 的校验时机，一个是在保存时校验，一个是在提交 commit 的时候才校验，这里也选默认：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">?</span><span style="color:#BABED8;"> Pick additional lint features</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> (Press </span><span style="color:#89DDFF;">&lt;</span><span style="color:#BABED8;">space</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> to select</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> to toggle all, </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">i</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> to invert selection, and </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">enter</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> to proceed)</span></span>
<span class="line"><span style="color:#BABED8;">&gt;(*) Lint on save</span></span>
<span class="line"><span style="color:#BABED8;"> ( ) Lint and fix on commit</span></span></code></pre></div><p>项目配置文件，笔者更习惯保存为独立文件：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">?</span><span style="color:#BABED8;"> Where do you prefer placing config for Babel</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> ESLint</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> etc</span><span style="color:#89DDFF;">.?</span></span>
<span class="line"><span style="color:#BABED8;">  (Use arrow keys)</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> In dedicated config files</span></span>
<span class="line"><span style="color:#BABED8;">  In package</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">json</span></span></code></pre></div><p>是否保存为未来的项目配置，存起来方便以后快速创建：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">?</span><span style="color:#BABED8;"> Save </span><span style="color:#89DDFF;">this</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">a</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">preset</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">for</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">future</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">projects</span><span style="color:#89DDFF;">?</span><span style="color:#BABED8;"> Yes</span></span>
<span class="line"><span style="color:#89DDFF;">?</span><span style="color:#BABED8;"> Save preset as</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> vue</span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">-</span><span style="color:#BABED8;">ts</span><span style="color:#89DDFF;">-</span><span style="color:#BABED8;">config</span></span></code></pre></div><p>至此，项目创建完成！可以通过 <code>npm run serve</code> 开启热更进行开发调试，通过 <code>npm run build</code> 构建打包上线。</p><h3 id="管理项目配置-1" tabindex="-1">管理项目配置 <a class="header-anchor" href="#管理项目配置-1" aria-label="Permalink to &quot;管理项目配置&quot;">​</a></h3><p>Vue CLI 的配置文件是 <code>vue.config.js</code> ，可以参考官网的说明文档调整各个选项配置：<a href="https://cli.vuejs.org/zh/config/" target="_blank" rel="noreferrer">配置参考 - Vue CLI</a> 。</p><h2 id="调整-ts-config" tabindex="-1">调整 TS Config <a class="header-anchor" href="#调整-ts-config" aria-label="Permalink to &quot;调整 TS Config&quot;">​</a></h2><p>如果在 Vite 的配置文件 vite.config.ts ，或者是在 Vue CLI 的配置文件 vue.config.js 里设置了 alias 的话，因为 TypeScript 不认识里面配置的 alias 别名，所以需要再对 tsconfig.json 做一点调整，增加对应的 paths ，否则在 VSCode 里可能会路径报红，提示找不到模块或其相应的类型声明。</p><p>比如在 Vue 组件里引入路径为 <code>@cp/HelloWorld.vue</code> 的时候，可以避免写出 <code>../../../../components/HelloWorld.vue</code> 这样的非常多层级的相对路径，但是默认情况下 TypeScript 并不知道这个 alias 等价于 <code>src/components/HelloWorld.vue</code> 这个文件路径，从而会报错找不到该模块并导致无法正确编译。</p><p>假设在 vite.config.ts 里配置了这些 alias ：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">defineConfig</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">resolve</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#BABED8;">    </span><span style="color:#F07178;">alias</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">@</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">resolve</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">src</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// 源码根目录</span></span>
<span class="line highlighted"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">@img</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">resolve</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">src/assets/img</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// 图片</span></span>
<span class="line highlighted"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">@less</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">resolve</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">src/assets/less</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// 预处理器</span></span>
<span class="line highlighted"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">@libs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">resolve</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">src/libs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// 本地库</span></span>
<span class="line highlighted"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">@plugins</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">resolve</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">src/plugins</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// 本地插件</span></span>
<span class="line highlighted"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">@cp</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">resolve</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">src/components</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// 公共组件</span></span>
<span class="line highlighted"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">@views</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">resolve</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">src/views</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// 路由组件</span></span>
<span class="line highlighted"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span></code></pre></div><p>那么在该项目的 tsconfig.json 文件里就需要相应的加上这些 paths ：</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">compilerOptions</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line highlighted"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">paths</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">@/*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">src/*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">],</span></span>
<span class="line highlighted"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">@img/*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">src/assets/img/*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">],</span></span>
<span class="line highlighted"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">@less/*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">src/assets/less/*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">],</span></span>
<span class="line highlighted"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">@libs/*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">src/libs/*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">],</span></span>
<span class="line highlighted"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">@plugins/*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">src/plugins/*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">],</span></span>
<span class="line highlighted"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">@cp/*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">src/components/*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">],</span></span>
<span class="line highlighted"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">@views/*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">src/views/*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line highlighted"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>注意 paths 的配置全部要以 <code>/*</code> 结尾，代表该目录下的文件都可以被匹配，而不是指向某一个文件。</p></div><h2 id="添加协作规范" tabindex="-1">添加协作规范 <a class="header-anchor" href="#添加协作规范" aria-label="Permalink to &quot;添加协作规范&quot;">​</a></h2><p>考虑到后续可能会有团队协作，最好是能够统一编码风格。</p><h3 id="editor-config" tabindex="-1">Editor Config <a class="header-anchor" href="#editor-config" aria-label="Permalink to &quot;Editor Config&quot;">​</a></h3><p>在项目根目录下再增加一个名为 <code>.editorconfig</code> 的文件。</p><p>这个文件的作用是强制编辑器以该配置来进行编码，比如缩进统一为空格而不是 Tab ，每次缩进都是 2 个空格而不是 4 个等等。</p><p>文件内容如下：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;"># </span><span style="color:#FFCB6B;">http</span><span style="color:#89DDFF;">:</span><span style="color:#676E95;font-style:italic;">//editorconfig.org</span></span>
<span class="line"><span style="color:#BABED8;">root </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">*</span><span style="color:#BABED8;">]</span></span>
<span class="line"><span style="color:#BABED8;">charset </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> utf</span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">8</span></span>
<span class="line"><span style="color:#BABED8;">end_of_line </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> lf</span></span>
<span class="line"><span style="color:#BABED8;">indent_size </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#BABED8;">indent_style </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> space</span></span>
<span class="line"><span style="color:#BABED8;">insert_final_newline </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#BABED8;">max_line_length </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">80</span></span>
<span class="line"><span style="color:#BABED8;">trim_trailing_whitespace </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">[</span><span style="color:#89DDFF;">*.</span><span style="color:#BABED8;">md]</span></span>
<span class="line"><span style="color:#BABED8;">max_line_length </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#BABED8;">trim_trailing_whitespace </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">false</span></span></code></pre></div><p>具体的参数说明可参考：<a href="https://chengpeiquan.com/article/editorconfig.html" target="_blank" rel="noreferrer">项目代码风格统一神器 editorconfig 的作用与配置说明</a></p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>部分编辑器可能需要安装对应的插件才可以支持该配置。</p><p>例如 VSCode 需要安装 <a href="#editorconfig-for-vs-code">EditorConfig for VSCode 扩展</a> 。</p></div><h3 id="prettier" tabindex="-1">Prettier <a class="header-anchor" href="#prettier" aria-label="Permalink to &quot;Prettier&quot;">​</a></h3><p><a href="https://github.com/prettier/prettier" target="_blank" rel="noreferrer">Prettier</a> 是目前最流行的代码格式化工具，可以约束的代码风格不会乱七八糟，目前所知道的知名项目（如 Vue 、 Vite 、 React 等）和大厂团队（谷歌、微软、阿里、腾讯等）都在使用 Prettier 格式化代码。</p><p>通过脚手架创建的项目很多都内置了 Prettier 功能集成（例如 <a href="#create-preset">Create Preset</a> ，参考了主流的格式化规范，比如 2 个空格的缩进、无需写分号结尾、数组 / 对象每一项都带有尾逗号等等）。</p><p>如果需要手动增加功能支持，请在项目根目录下创建一个名为 <code>.prettierrc</code> 的文件，写入以下内容：</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">semi</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">false,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">singleQuote</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">true</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>这代表 JavaScript / TypeScript 代码一般情况下不需要加 <code>;</code> 分号结尾，然后使用 <code>&#39;&#39;</code> 单引号来定义字符串等变量。</p><p>这里只需要写入与默认配置不同的选项即可，如果和默认配置一致，可以省略，完整的配置选项以及默认值可以在 Prettier 官网的 <a href="https://prettier.io/docs/en/options.html" target="_blank" rel="noreferrer">Options Docs</a> 查看。</p><p>配合 VSCode 的 <a href="#vscode-prettier">VSCode Prettier</a> 扩展，可以在编辑器里使用该规则格式化文件（此时无需在项目下安装 Prettier 依赖）。</p><p>如果开启了 ESLint ，配合 ESLint 的代码提示，可以更方便的体验格式化排版，详见 <a href="#eslint">ESLint</a> 一节的说明。</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>配合 <a href="#vscode-prettier">VSCode Prettier 扩展</a> ，这份配置直接在 VSCode 里生效，如果配合 ESLint 使用，需要安装 <a href="https://www.npmjs.com/package/prettier" target="_blank" rel="noreferrer">Prettier</a> 依赖。</p></div><h3 id="eslint" tabindex="-1">ESLint <a class="header-anchor" href="#eslint" aria-label="Permalink to &quot;ESLint&quot;">​</a></h3><p><a href="https://github.com/eslint/eslint" target="_blank" rel="noreferrer">ESLint</a> 是一个查找 JavaScript / TypeScript 代码问题并提供修复建议的工具，换句话说就是可以约束的代码不会写出一堆 BUG ，它是代码健壮性的重要保障。</p><p>虽然大部分前端开发者都不愿意接受这些约束（当年笔者入坑的时候也是），但说实话，经过 ESLint 检查过的代码质量真的高了很多，如果不愿意总是做一个游兵散勇，建议努力让自己习惯被 ESLint 检查，大厂和大项目都是有 ESLint 检查的。</p><p>特别是写 TypeScript ，配合 ESLint 的检查实在太爽了（字面意思，真的很舒服）。</p><p>通过脚手架创建的项目通常都会帮开发者配置好 ESLint 规则，如果有一些项目一开始没有，后面想增加 ESLint 检查，也可以手动配置具体规则。</p><p>这里以一个 Vite + TypeScript + <a href="#prettier">Prettier</a> 的 Vue 3 项目为例，在项目根目录下创建一个名为 <code>.eslintrc.js</code> 文件，写入以下内容：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">root</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">env</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">node</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">browser</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">extends</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">plugin:vue/vue3-essential</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">eslint:recommended</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">prettier</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">parser</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue-eslint-parser</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">parserOptions</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">parser</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@typescript-eslint/parser</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">ecmaVersion</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">2020</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">sourceType</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">module</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@typescript-eslint</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">prettier</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">no-console</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> process</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">env</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">NODE_ENV </span><span style="color:#89DDFF;">===</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">?</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">warn</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">off</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">no-debugger</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> process</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">env</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">NODE_ENV </span><span style="color:#89DDFF;">===</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">?</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">warn</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">off</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">prettier/prettier</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">warn</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">vue/multi-word-component-names</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">off</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">globals</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">defineProps</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">readonly</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">defineEmits</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">readonly</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">defineExpose</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">readonly</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">withDefaults</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">readonly</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>然后安装对应的依赖（记得添加 <code>-D</code> 参数添加到 <code>devDependencies</code> ，因为都是开发环境下使用的）：</p><ul><li><a href="https://www.npmjs.com/package/eslint" target="_blank" rel="noreferrer">eslint</a></li><li><a href="https://www.npmjs.com/package/eslint-config-prettier" target="_blank" rel="noreferrer">eslint-config-prettier</a></li><li><a href="https://www.npmjs.com/package/eslint-plugin-prettier" target="_blank" rel="noreferrer">eslint-plugin-prettier</a></li><li><a href="https://www.npmjs.com/package/eslint-plugin-vue" target="_blank" rel="noreferrer">eslint-plugin-vue</a></li><li><a href="https://www.npmjs.com/package/@typescript-eslint/eslint-plugin" target="_blank" rel="noreferrer">@typescript-eslint/eslint-plugin</a></li><li><a href="https://www.npmjs.com/package/@typescript-eslint/parser" target="_blank" rel="noreferrer">@typescript-eslint/parser</a></li><li><a href="https://www.npmjs.com/package/prettier" target="_blank" rel="noreferrer">prettier</a></li></ul><p>这样就可以在项目中生效了（如果 VSCode 未能立即生效，重启编辑器即可），一旦代码有问题， ESLint 就会帮检查出来并反馈具体的报错原因，久而久之的代码就会越写越规范。</p><p>更多的选项可以在 ESLint 官网的 <a href="https://eslint.org/docs/user-guide/configuring/" target="_blank" rel="noreferrer">Configuring ESLint</a> 查阅。</p><p>如果有一些文件需要排除检查，可以再创建一个 <code>.eslintignore</code> 文件在项目根目录下，里面添加要排除的文件或者文件夹名称：</p><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">dist/*</span></span></code></pre></div><p>更多的排除规则可以在 ESLint 官网的 <a href="https://eslint.org/docs/user-guide/configuring/ignoring-code#the-eslintignore-file" target="_blank" rel="noreferrer">The .eslintignore File</a> 一文查阅。</p><h2 id="安装-vscode" tabindex="-1">安装 VSCode <a class="header-anchor" href="#安装-vscode" aria-label="Permalink to &quot;安装 VSCode&quot;">​</a></h2><p>要问现在前端工程师用的最多的代码编辑器是哪个，肯定是 Visual Studio Code 了！</p><p>与其他的编辑器相比，VSCode 有这些优点：</p><ul><li>背靠 Microsoft ，完全免费并且开源，开箱即用</li><li>开发者可以通过简单的配置调整来满足之前在其他编辑器上的习惯（ e.g. Sublime Text ）</li><li>轻量级但功能强大，内置了对 JavaScript、TypeScript 和 Node.js 的支持，</li><li>拥有丰富的插件生态，开发者可以根据需要，安装提高编码效率的功能支持，以及其他的语言扩展</li><li>支持智能的代码补全、类型推导、代码检查提示、批量编辑、引用跳转、比对文件等功能</li><li>登录 GitHub 账号即可实现配置自动同步，在其他电脑上直接使用最习惯的配置和插件</li></ul><p>当然，还有非常多优点可自行体验！</p><p>点击下载：<a href="https://code.visualstudio.com/Download" target="_blank" rel="noreferrer">Visual Studio Code</a></p><p>一般情况下开箱即用，无门槛，也可以阅读官方文档了解一些个性化的配置。</p><p>点击查看：<a href="https://code.visualstudio.com/docs" target="_blank" rel="noreferrer">VSCode 操作文档</a></p><h2 id="添加-vscode-插件" tabindex="-1">添加 VSCode 插件 <a class="header-anchor" href="#添加-vscode-插件" aria-label="Permalink to &quot;添加 VSCode 插件&quot;">​</a></h2><p>VSCode 本身是轻量级的，也就是只提供最基础的功能，更优秀的体验或者个性化体验，是需要通过插件来启用的。</p><p>这里推荐几个非常舒服的 VSCode 插件，可以通过插件中心安装，也可以通过官方应用市场下载。</p><h3 id="chinese-simplified" tabindex="-1">Chinese (Simplified) <a class="header-anchor" href="#chinese-simplified" aria-label="Permalink to &quot;Chinese (Simplified)&quot;">​</a></h3><p>VSCode 安装后默认是英文本，需要自己进行汉化配置， VSCode 的特色就是插件化处理各种功能，语言方面也一样。</p><p>安装该插件并启用，即可让 VSCode 显示为简体中文。</p><p>点击下载：<a href="https://marketplace.visualstudio.com/items?itemName=MS-CEINTL.vscode-language-pack-zh-hans" target="_blank" rel="noreferrer">Chinese (Simplified)</a></p><h3 id="volar" tabindex="-1">Volar <a class="header-anchor" href="#volar" aria-label="Permalink to &quot;Volar&quot;">​</a></h3><p>Vue 官方推荐的 VSCode 扩展，用以代替 Vue 2 时代的 <a href="https://marketplace.visualstudio.com/items?itemName=octref.vetur" target="_blank" rel="noreferrer">Vetur</a> ，提供了 Vue 3 的语言支持、 TypeScript 支持、基于 <a href="https://github.com/johnsoncodehk/volar/tree/master/packages/vue-tsc" target="_blank" rel="noreferrer">vue-tsc</a> 的类型检查等功能。</p><p>点击下载：<a href="https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar" target="_blank" rel="noreferrer">Volar</a></p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Volar 取代了 Vetur 作为 Vue 3 的官方扩展，如果之前已经安装了 Vetur ，请确保在 Vue 3 的项目中禁用它。</p></div><h3 id="vue-vscode-snippets" tabindex="-1">Vue VSCode Snippets <a class="header-anchor" href="#vue-vscode-snippets" aria-label="Permalink to &quot;Vue VSCode Snippets&quot;">​</a></h3><p>从实际使用 Vue 的角度提供 Vue 代码片段的生成，可以通过简单的命令，在 .vue 文件里实现大篇幅的代码片段生成，例如：</p><ol><li><p>输入 <code>ts</code> 可以快速创建一个包含了 <code>template</code> + <code>script</code> + <code>style</code> 的 Vue 组件模板（可选 2.x 、3.x 以及 class 风格的模板）</p></li><li><p>也可以通过输入带有 <code>v3</code> 开头的指令来快速生成 Vue 3 的 API 。</p></li></ol><p>下面是输入了 <code>ts</code> 两个字母之后，用箭头选择 <code>vbase-3-ts</code> 自动生成的一个模板片段，在开发过程中非常省事：</p><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">lang</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">defineComponent</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">defineComponent</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">setup</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">style</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">scoped</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">style</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><p>点击下载：<a href="https://marketplace.visualstudio.com/items?itemName=sdras.vue-vscode-snippets" target="_blank" rel="noreferrer">Vue VSCode Snippets</a></p><h3 id="auto-close-tag" tabindex="-1">Auto Close Tag <a class="header-anchor" href="#auto-close-tag" aria-label="Permalink to &quot;Auto Close Tag&quot;">​</a></h3><p>可以快速完成 HTML 标签的闭合，除非通过 <code>.jsx</code> / <code>.tsx</code> 文件编写 Vue 组件，否则在 <code>.vue</code> 文件里写 <code>template</code> 的时候肯定用得上。</p><p>点击下载：<a href="https://marketplace.visualstudio.com/items?itemName=formulahendry.auto-close-tag" target="_blank" rel="noreferrer">Auto Close Tag</a></p><h3 id="auto-rename-tag" tabindex="-1">Auto Rename Tag <a class="header-anchor" href="#auto-rename-tag" aria-label="Permalink to &quot;Auto Rename Tag&quot;">​</a></h3><p>假如要把 <code>div</code> 修改为 <code>section</code>，不需要再把 <code>&lt;div&gt;</code> 然后找到代码尾部的 <code>&lt;/div&gt;</code> 才能修改，只需要选中前面或后面的半个标签直接修改，插件会自动把闭合部分也同步修改，对于篇幅比较长的代码调整非常有帮助。</p><p>点击下载：<a href="https://marketplace.visualstudio.com/items?itemName=formulahendry.auto-rename-tag" target="_blank" rel="noreferrer">Auto Rename Tag</a></p><h3 id="editorconfig-for-vscode" tabindex="-1">EditorConfig for VSCode <a class="header-anchor" href="#editorconfig-for-vscode" aria-label="Permalink to &quot;EditorConfig for VSCode&quot;">​</a></h3><p>一个可以让编辑器遵守协作规范的插件，详见 <a href="#添加协作规范">添加协作规范</a> 。</p><p>点击下载：<a href="https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig" target="_blank" rel="noreferrer">EditorConfig for VSCode</a></p><h3 id="prettier-for-vscode" tabindex="-1">Prettier for VSCode <a class="header-anchor" href="#prettier-for-vscode" aria-label="Permalink to &quot;Prettier for VSCode&quot;">​</a></h3><p>这是 <a href="#prettier">Prettier</a> 在 VSCode 的一个扩展，不论项目有没有安装 Prettier 依赖，安装该扩展之后，单纯在 VSCode 也可以使用 Prettier 进行代码格式化。</p><p>点击下载：<a href="https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode" target="_blank" rel="noreferrer">Prettier - Code formatter</a></p><p>点击访问：<a href="https://prettier.io/" target="_blank" rel="noreferrer">Prettier 官网</a> 了解更多配置。</p><h3 id="eslint-for-vscode" tabindex="-1">ESLint for VSCode <a class="header-anchor" href="#eslint-for-vscode" aria-label="Permalink to &quot;ESLint for VSCode&quot;">​</a></h3><p>这是 <a href="#eslint">ESLint</a> 在 VSCode 的一个扩展， TypeScript 项目基本都开了 ESLint ，编辑器也建议安装该扩展支持以便获得更好的代码提示。</p><p>点击下载：<a href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint" target="_blank" rel="noreferrer">VSCode ESLint</a></p><p>点击访问：<a href="https://eslint.org/" target="_blank" rel="noreferrer">ESLint 官网</a> 了解更多配置。</p><h3 id="其他插件" tabindex="-1">其他插件 <a class="header-anchor" href="#其他插件" aria-label="Permalink to &quot;其他插件&quot;">​</a></h3><p>其他的比如预处理器相关的，Git 相关的，可以根据自己的需求在 <a href="https://marketplace.visualstudio.com" target="_blank" rel="noreferrer">VSCode 的插件市场</a> 里搜索安装。</p><h2 id="项目初始化" tabindex="-1">项目初始化 <a class="header-anchor" href="#项目初始化" aria-label="Permalink to &quot;项目初始化&quot;">​</a></h2><p>至此，通过脚手架已经搭好了一个可直接运行的基础项目，已经可以正常的 <code>npm run dev</code> 和 <code>npm run build</code> 了（具体命令取决于的项目 <a href="./guide.html#脚本命令的配置">脚本命令的配置</a> ），项目配置和编辑器也都弄好了，是不是可以开始写代码了呢？</p><p>请不要着急，还需要了解一点东西，就是如何初始化一个 Vue 3 项目。</p><p>因为在实际开发过程中，还会用到各种 npm 包，像很多 UI 框架、功能插件的引入都是需要在 Vue 初始化阶段处理。</p><p>甚至有时候还要脱离脚手架，采用 CDN 引入的方式来开发，所以开始写组件之前，还需要了解一下在 Vue 3 项目中，初始化阶段对比 Vue 2 的一些变化。</p><h3 id="入口文件" tabindex="-1">入口文件 <a class="header-anchor" href="#入口文件" aria-label="Permalink to &quot;入口文件&quot;">​</a></h3><p>项目的初始化都是在入口文件集中处理，Vue 3 的目录结构对比 Vue 2 没有变化，入口文件依然还是 main.ts 这个文件。</p><p>但是 Vue 3 在初始化的时候，做了不少的调整，代码写法和 Vue 2 完全不同。对于这次大改动，笔者认为是好的，因为统一了相关生态的启用方式，不再像 Vue 2 时期那样多方式共存，显得比较杂乱。</p><h3 id="回顾-vue-2" tabindex="-1">回顾 Vue 2 <a class="header-anchor" href="#回顾-vue-2" aria-label="Permalink to &quot;回顾 Vue 2&quot;">​</a></h3><p>Vue 2 在导入各种依赖之后，通过 <code>new Vue()</code> 执行 Vue 的初始化，相关的 Vue 生态和插件，有的是使用 <code>Vue.use()</code> 来进行初始化，有的是作为 <code>new Vue()</code> 的入参：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> Vue </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> App </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./App.vue</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> router </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./router</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> store </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./store</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> pluginA </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pluginA</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> pluginB </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pluginB</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> pluginC </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pluginC</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 使用了 \`use\` 方法激活</span></span>
<span class="line highlighted"><span style="color:#BABED8;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">use</span><span style="color:#BABED8;">(pluginA)</span></span>
<span class="line highlighted"><span style="color:#BABED8;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">use</span><span style="color:#BABED8;">(pluginB)</span></span>
<span class="line highlighted"><span style="color:#BABED8;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">use</span><span style="color:#BABED8;">(pluginC)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">config</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">productionTip </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 作为 \`new Vue()\` 的入参激活</span></span>
<span class="line"><span style="color:#89DDFF;">new</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">Vue</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#BABED8;">  router</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#BABED8;">  store</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#82AAFF;">render</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">h</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">h</span><span style="color:#BABED8;">(App)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">$mount</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#app</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span></span></code></pre></div><h3 id="了解-vue-3-new" tabindex="-1">了解 Vue 3 ~new <a class="header-anchor" href="#了解-vue-3-new" aria-label="Permalink to &quot;了解 Vue 3 ~new&quot;">​</a></h3><p>在 Vue 3 ，使用 <code>createApp</code> 执行 Vue 的初始化，另外不管是 Vue 生态里的东西，还是外部插件、 UI 框架，统一都是由 <code>use()</code> 进行激活，非常统一和简洁：</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">createApp</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> App </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./App.vue</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> router </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./router</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> store </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./store</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> pluginA </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pluginA</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> pluginB </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pluginB</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> pluginC </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pluginC</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">createApp</span><span style="color:#BABED8;">(App)</span></span>
<span class="line highlighted"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">use</span><span style="color:#BABED8;">(store)</span></span>
<span class="line highlighted"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">use</span><span style="color:#BABED8;">(router)</span></span>
<span class="line highlighted"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">use</span><span style="color:#BABED8;">(pluginA)</span></span>
<span class="line highlighted"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">use</span><span style="color:#BABED8;">(pluginB)</span></span>
<span class="line highlighted"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">use</span><span style="color:#BABED8;">(pluginC)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">mount</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#app</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span></span></code></pre></div><h2 id="vue-devtools" tabindex="-1">Vue Devtools <a class="header-anchor" href="#vue-devtools" aria-label="Permalink to &quot;Vue Devtools&quot;">​</a></h2><p>Vue Devtools 是一个浏览器扩展，支持 Chrome 、 Firefox 等浏览器，需要先安装才能使用。</p><p>点击安装：<a href="https://devtools.vuejs.org/guide/installation.html" target="_blank" rel="noreferrer">Vue Devtools 的浏览器扩展</a></p><p>当在 Vue 项目通过 <code>npm run dev</code> 等命令启动开发环境服务后，访问本地页面（如： <code>http://localhost:3000/</code> ），在页面上按 F12 唤起浏览器的控制台，会发现多了一个名为 <code>vue</code> 的面板。</p><p>面板的顶部有一个菜单可以切换不同的选项卡，菜单数量会根据不同项目有所不同，例如没有安装 Pinia 则不会出现 Pinia 选项卡，这里以其中一部分选项卡作为举例。</p><p>Components 是以结构化的方式显示组件的调试信息，可以查看组件的父子关系，并检查组件的各种内部状态：</p>`,191)),a(n,null,{default:l(()=>[a(e,{src:"/assets/img/vue-devtools-components.jpg",dark:"/assets/img/vue-devtools-components-dark.jpg",alt:"Vue Devtools 的 Components 界面"})]),_:1}),s[2]||(s[2]=p("p",null,"Routes 可以查看当前所在路由的配置信息：",-1)),a(n,null,{default:l(()=>[a(e,{src:"/assets/img/vue-devtools-routes.jpg",dark:"/assets/img/vue-devtools-routes-dark.jpg",alt:"Vue Devtools 的 Routes 界面"})]),_:1}),s[3]||(s[3]=p("p",null,"Timeline 是以时间线的方式追踪不同类型的数据，例如事件：",-1)),a(n,null,{default:l(()=>[a(e,{src:"/assets/img/vue-devtools-timeline.jpg",dark:"/assets/img/vue-devtools-timeline-dark.jpg",alt:"Vue Devtools 的 Timeline 界面"})]),_:1}),s[4]||(s[4]=p("p",null,"Pinia 是可以查看当前组件引入的全局状态情况：",-1)),a(n,null,{default:l(()=>[a(e,{src:"/assets/img/vue-devtools-pinia.jpg",dark:"/assets/img/vue-devtools-pinia-dark.jpg",alt:"Vue Devtools 的 Pinia 界面"})]),_:1}),s[5]||(s[5]=p("p",null,[r("可以在 "),p("a",{href:"https://devtools.vuejs.org/",target:"_blank",rel:"noreferrer"},"Vue Devtools 官网"),r(" 了解更多的用法。")],-1)),a(n,null,{default:l(()=>[a(c,{issueId:45})]),_:1})])}const f=i(F,[["render",B]]);export{m as __pageData,f as default};
